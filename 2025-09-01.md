
---

# 三维层次跨模态对齐
视觉层次（vit不同层数的输出） 空间层次（tile以及缩略图） 文本层次（词句块）

## 文本层次（Hi-Transformer）

* **词级**：细粒度 token 表示。
* **句级**：承载局部语义与上下文。
* **块级**：全局主题，句子聚合得到。

---

## 视觉层次（CNN/ViT 多层特征）

* **浅层**：低级纹理、边缘。
* **中层**：局部结构与对象部件。
* **深层**：高层语义与全局对象。

---

## 空间层次（输入视角）

* **Tile**：局部裁剪的细粒度 patch，专注小范围细节。
* **缩略图**：低分辨率全图，保留全局结构与类别。

---

##  跨层对齐机制

1. **文本 ↔ 视觉层次对齐**

   * **句级 ↔ 中层特征**：
     局部语义（句子）和局部视觉结构（中层 feature map）通过对比学习或交互注意力对齐。
   * **块级 ↔ 深层特征**：
     篇章语义（块向量）与整体视觉表示（深层 pooled feature）对齐。

---

2. **文本 ↔ 空间层次对齐**

   * **句级 ↔ Tile**：
     每个 tile 与块内句子形成**多实例对齐**，确保局部语义（如标签、局部描述）与细节图像片段对应。
   * **块级 ↔ 缩略图**：
     全文块向量与缩略图特征对齐，保证全局主题与整体图表类别、趋势一致。

---

3. **视觉层次 ↔ 空间层次融合**

   * **Tile 表征**：主要取自**中层特征**，捕获局部结构；可附加深层 residual 表达高阶语义。
   * **缩略图表征**：结合**中层 + 深层**特征，加权或门控融合，既保留全局布局又包含语义判别能力。

---



